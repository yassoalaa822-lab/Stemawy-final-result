<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deutsch Checkpoints — First Semester</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    <style>
        /* Apply Inter font family and smooth scrolling */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        /* --- Tech Aesthetic Colors and Glows --- */
        .shadow-subtle-glow {
            box-shadow: 0 4px 15px rgba(51, 255, 204, 0.25), 0 0 5px rgba(51, 255, 204, 0.1);
            transition: all 0.3s ease-in-out;
        }

        .hover\:shadow-subtle-glow-lg:hover {
            box-shadow: 0 6px 20px rgba(51, 255, 204, 0.4), 0 0 8px rgba(51, 255, 204, 0.2);
        }

        /* Keyframes for continuous gradient shift */
        @keyframes gradient-shift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Base class for the animated text effect */
        .gradient-text-wrapper {
            display: inline-block;
            background-size: 300% 100%;
            animation: gradient-shift 8s linear infinite;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            line-height: 1.2;
            white-space: nowrap;
        }

        /* Style for the main header */
        .gradient-h1 {
            background-image: linear-gradient(to right, #00BFFF, #33FFCC, #00BFFF, #33FFCC);
            animation-duration: 8s;
        }

        /* Light theme variables */
        :root[data-theme="light"] {
            --tech-bg: #ffffff;
            --tech-dark-alt: #f3f4f6;
            --tech-light: #111827;
            --tech-primary: #0369a1;
            --tech-secondary: #0e7490;
            --border-color: rgba(2, 132, 199, 0.3);
        }

        /* Dark theme variables (default) */
        :root[data-theme="dark"] {
            --tech-bg: #1A1F26;
            --tech-dark-alt: #2C333F;
            --tech-light: #E0E6F0;
            --tech-primary: #00BFFF;
            --tech-secondary: #33FFCC;
            --border-color: rgba(51, 255, 204, 0.3);
        }

        body {
            background-color: var(--tech-bg);
            color: var(--tech-light);
        }

        .bg-tech-bg {
            background-color: var(--tech-bg) !important;
        }

        .bg-tech-dark-alt {
            background-color: var(--tech-dark-alt) !important;
        }

        .text-tech-light {
            color: var(--tech-light) !important;
        }

        .text-tech-primary {
            color: var(--tech-primary) !important;
        }

        .text-tech-secondary {
            color: var(--tech-secondary) !important;
        }

        /* Custom scrollbar style for the content area */
        #content-area {
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #00BFFF #1A1F26;
        }

        #content-area::-webkit-scrollbar {
            width: 8px;
        }

        #content-area::-webkit-scrollbar-thumb {
            background-color: #00BFFF;
            border-radius: 4px;
        }

        #content-area::-webkit-scrollbar-track {
            background-color: #1A1F26;
        }

        /* Custom style for the LO button when active */
        .lo-item.active {
            background-color: #00BFFF33;
            /* tech-primary with opacity */
            border-left-color: #33FFCC;
            /* tech-secondary */
            box-shadow: 0 0 10px rgba(51, 255, 204, 0.3);
        }

        /* Details summary arrow rotation */
        details summary .arrow-icon {
            transform: rotate(0deg);
            transition: transform 0.3s;
        }

        details[open] summary .arrow-icon {
            transform: rotate(90deg);
        }
    </style>

    <script>
        // Tailwind Configuration with Modern Tech Palette
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'tech-bg': '#1A1F26',
                        'tech-dark-alt': '#2C333F',
                        'tech-light': '#E0E6F0',
                        'tech-primary': '#00BFFF',
                        'tech-secondary': '#33FFCC',
                    }
                }
            }
        }

        // Define the learning objectives data structure for Deutsch
        const learningObjectives = {
            LO1: {
                title: "LO1: Begrüßung & Auskunft",
                concepts: [
                    "jemanden begrüssen und sich verabschieden",
                    "‣jemanden nach dem Herkunftsland nennen und über Sprachkenntnisse",
                    "Auskunft geben"
                ]
            },
            LO2: {
                title: "LO2: Befinden & Familie",
                concepts: [
                    "jemanden nach dem Befinden fragen und sein eigenes Befinden ausdrücken",
                    "seine Familie und Freunde vorstellen",
                    "den Wohnort und die Adresse nennen"
                ]
            },
            'references': {
                title: "Additional References",
                concepts: []
            }
        };

        // Resource mappings for Books and Test Banks (sourced from first semester folder)
        const resourceFiles = {
            books: [
                'first semester/books/Arbeitsbuch a1.pdf',
                'first semester/books/Deutsch .com 1 .pdf'
            ],
            testBanks: [
                'first semester/test banks/Alltagssituationen1  10  L. 1+2.docx',
                'first semester/test banks/Grammatik 10 - L 1, 2 A (2).docx',
                'first semester/test banks/Lektion 1 & 2 - Test-1.docx',
                'first semester/test banks/Lektion 1 & 2 - Test.doc',
                'first semester/test banks/Lektion 1 & 2 - Test.docx',
                'first semester/test banks/Schriftlicher Ausdruck L 1, 2 A.docx',
                'first semester/test banks/Schriftlicher Ausdruck L 1.2.A.....docx',
                'first semester/test banks/Wiederholt Texterfassung  - L. 1_ 2 .docx',
                'first semester/test banks/Wiederholt Texterfassung 10 - L 1, 2 A.docx'
            ]
        };

        // Mapping filename -> shareUrl for German files
        const shareMap = {
            "Arbeitsbuch a1.pdf": "https://drive.google.com/file/d/15H4aU0SIjBN9gGidNgbWnduJZBQmw_SN/view?usp=drivesdk",
            "Deutsch .com 1 .pdf": "https://drive.google.com/file/d/1MnDztLlFw2LS31hip-I6rVqtjCAWcdgc/view?usp=drivesdk",
            "Alltagssituationen1  10  L. 1+2.docx": "https://docs.google.com/document/d/1iNKc7rB_qqIvsJaCBZGhTroV5HEYlEXm/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true",
            "Schriftlicher Ausdruck L 1, 2 A.docx": "https://docs.google.com/document/d/1Ma8_WQ_3d-N3HocR3EDQCvNxJo5lg0L8/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true",
            "Wiederholt Texterfassung 10 - L 1, 2 A.docx": "https://docs.google.com/document/d/1ZpsWD30SmFHjYpWD4UCH5eq7EjQYxFNA/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true",
            "Lektion 1 & 2 - Test.doc": "https://docs.google.com/document/d/1NXaxjSd8rkM8ZcLecqKkSaU9ELQB2t79/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true",
            "Lektion 1 & 2 - Test-1.docx": "https://docs.google.com/document/d/1exS75A5Or5rA-nzeYIeP3ov4iPcdHqHf/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true",
            "Lektion 1 & 2 - Test.docx": "https://docs.google.com/document/d/1QX1l1iw0-eRpz7tzWAKlk5muE863bBLt/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true",
            "Schriftlicher Ausdruck L 1.2.A.....docx": "https://docs.google.com/document/d/1XyYueG1JY4jH-nh7MSoB3whtnudyKH9B/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true",
            "Wiederholt Texterfassung  - L. 1_ 2 .docx": "https://docs.google.com/document/d/10P5gspEukNFTrC6SFrb4sS-msNXmJBgF/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true",
            "Grammatik 10 - L 1, 2 A (2).docx": "https://docs.google.com/document/d/1u5bgsXRP_ED-KVh9N5yrEPiaoJqB3K1A/edit?usp=drivesdk&ouid=101563598129890605704&rtpof=true&sd=true"
        };

        // Function to create a single downloadable link block
        function createLinkBlock(title, placeholderText) {
            return `
                <div class="mt-3 p-3 bg-tech-bg/50 rounded-lg border border-tech-dark-alt">
                    <h4 class="text-md font-bold text-tech-secondary mb-1">${title}</h4>
                    <p class="text-sm text-tech-light/70 italic mb-2">${placeholderText}</p>
                </div>
            `;
        }

        // Function to render concept content
        function renderConcept(conceptTitle) {
            const description = `This section covers the fundamental principles of **${conceptTitle}**. Understanding this concept is useful when learning German.`;

            return `
                <details class="mb-4 bg-tech-dark-alt rounded-xl border border-tech-primary/30 shadow-lg overflow-hidden">
                    <summary class="flex items-center justify-between p-4 cursor-pointer text-lg font-semibold text-tech-light hover:bg-tech-primary/20 transition duration-300">
                        <span class="truncate">${conceptTitle}</span>
                        <svg class="w-5 h-5 ml-2 transition-transform duration-300 arrow-icon flex-shrink-0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
                    </summary>
                    <div class="px-4 pb-4 pt-2 border-t border-tech-primary/30 space-y-4">
                        <div class="bg-tech-bg/80 p-3 rounded-lg border border-tech-dark-alt">
                            <h4 class="text-md font-bold text-tech-secondary mb-1">Concept Description</h4>
                            <p class="text-tech-light/90 text-sm">${description}</p>
                        </div>

                        ${createLinkBlock('Videos', 'Place for video links/embeds relevant to this concept.')}
                    </div>
                </details>
            `;
        }

        // Render a Files block for a specific LO (Presentations + LO test-bank links)
        function renderFilesForLO(loKey) {
            const presentations = resourceFiles[loKey] || [];
            const loTestBankUrl = (learningObjectives[loKey] && learningObjectives[loKey].testBankUrl) ? learningObjectives[loKey].testBankUrl : null;
            const loNum = loKey.replace(/[^0-9]/g, '');
            const matchingTestBanks = (resourceFiles.testBanks || []).filter(f => {
                const n = f.toLowerCase();
                return (loNum && (n.includes('lo ' + loNum) || n.includes('lo' + loNum) || n.includes('l.o ' + loNum)));
            });

            if (!presentations.length && !loTestBankUrl && matchingTestBanks.length === 0) return '';

            let html = `
                <div class="mt-8 p-4 bg-tech-bg/60 rounded-lg border border-tech-dark-alt">
                    <h3 class="text-2xl font-bold text-tech-secondary mb-3">Files</h3>
            `;

            if (presentations.length) {
                html += `
                    <div class="mb-4">
                        <h4 class="text-md font-semibold mb-2">Presentations</h4>
                        <ul class="space-y-2">
                `;
                presentations.forEach(f => {
                    const name = (typeof f === 'string') ? f.split('/').pop() : (f.name || f.title || '');
                    const url = shareMap[name] || (typeof f === 'string' ? f : (f.url || f.href || '#'));
                    html += `<li><a href="${url}" target="_blank" rel="noopener noreferrer" class="text-tech-primary underline">${name}</a></li>`;
                });
                html += `</ul></div>`;
            }

            if (loTestBankUrl) {
                html += `
                    <div class="mb-4">
                        <h4 class="text-md font-semibold mb-2">LO Test Bank</h4>
                        <a href="${loTestBankUrl}" target="_blank" rel="noopener noreferrer" class="text-tech-primary underline">Download LO Test Bank</a>
                    </div>
                `;
            }

            if (matchingTestBanks.length) {
                html += `
                    <div class="mb-4">
                        <h4 class="text-md font-semibold mb-2">Related Test Bank Files</h4>
                        <ul class="space-y-2">
                `;
                matchingTestBanks.forEach(f => {
                    const name = f.split('/').pop();
                    const url = shareMap[name] || f;
                    html += `<li><a href="${url}" target="_blank" rel="noopener noreferrer" class="text-tech-primary underline">${name}</a></li>`;
                });
                html += `</ul></div>`;
            }

            html += `</div>`;
            return html;
        }

        // Function to render the LO content
        function renderLO(loKey, loData) {
            let html = `
                <h2 class="text-3xl font-extrabold mb-6 text-tech-primary border-b border-tech-secondary/50 pb-2">${loData.title}</h2>
            `;

            loData.concepts.forEach(concept => {
                html += renderConcept(concept);
            });

            html += renderFilesForLO(loKey);

            html += `
                <div class="mt-10 p-6 bg-tech-dark-alt rounded-xl border border-tech-secondary/50 shadow-subtle-glow">
                    <h3 class="text-2xl font-bold text-tech-secondary mb-2">Test Bank</h3>
                    <p class="text-tech-light/80 mb-4">Wanna test what you learned?</p>
                    <a href="javascript:void(0)" download="${loKey}_Test_Bank.pdf"
                        class="inline-block px-4 py-2 bg-tech-primary text-tech-bg font-semibold rounded-lg hover:bg-tech-secondary transition duration-300 shadow-subtle-glow hover:shadow-subtle-glow-lg">
                        Download ${loKey} Test File &rarr;
                    </a>
                </div>
            `;
            return html;
        }

        // Function to render the Additional References section
        function renderAdditionalReferences() {
            let html = `
                <h2 class="text-3xl font-extrabold mb-6 text-tech-primary border-b border-tech-secondary/50 pb-2">Additional References</h2>
                <div class="p-6 bg-tech-dark-alt rounded-xl border border-tech-secondary/50 shadow-subtle-glow">
                    <p class="text-xl font-medium text-tech-light mb-6">
                        Download these files if you want to study deeper in references:
                    </p>
            `;

            // Four placeholder links
            for (let i = 1; i <= 4; i++) {
                const linkTitle = `Advanced Deutsch Reference Material ${i}`;
                html += `
                    <div class="mb-4">
                        <a href="javascript:void(0)" download="Reference_Material_${i}.pdf"
                            class="text-tech-secondary hover:text-tech-primary transition duration-200 text-lg underline font-semibold">
                            ${linkTitle}
                        </a>
                    </div>
                `;
            }

            html += `</div>`;
            return html;
        }

        // Render Books list (sidebar content)
        function renderBooks() {
            const files = resourceFiles.books || [];
            if (!files.length) return `<h3 class="text-xl text-tech-secondary">No books available.</h3>`;

            let html = `
                <h2 class="text-3xl font-extrabold mb-6 text-tech-primary border-b border-tech-secondary/50 pb-2">Books</h2>
                <div class="p-4 bg-tech-bg/80 rounded-lg border border-tech-dark-alt">
                    <ul class="space-y-3">
            `;

            files.forEach(f => {
                const name = f.split('/').pop();
                const url = shareMap[name] || f;
                html += `<li><a href="${url}" target="_blank" rel="noopener noreferrer" class="text-tech-secondary hover:text-tech-primary underline">${name}</a></li>`;
            });

            html += `</ul></div>`;
            return html;
        }

        // Render Test Banks list (sidebar content)
        function renderTestBanks() {
            const files = resourceFiles.testBanks || [];
            if (!files.length) return `<h3 class="text-xl text-tech-secondary">No test banks available.</h3>`;

            let html = `
                <h2 class="text-3xl font-extrabold mb-6 text-tech-primary border-b border-tech-secondary/50 pb-2">Test Banks</h2>
                <div class="p-4 bg-tech-bg/80 rounded-lg border border-tech-dark-alt">
                    <ul class="space-y-3">
            `;

            files.forEach(f => {
                const name = f.split('/').pop();
                const url = shareMap[name] || f;
                html += `<li><a href="${url}" target="_blank" rel="noopener noreferrer" class="text-tech-secondary hover:text-tech-primary underline">${name}</a></li>`;
            });

            html += `</ul></div>`;
            return html;
        }

        // Function to handle navigation and content rendering
        function handleNavigationClick(loKey) {
            const contentArea = document.getElementById('dynamic-content');
            const defaultMessage = document.getElementById('default-message');
            const loItems = document.querySelectorAll('.lo-item');

            // Update active state
            loItems.forEach(item => item.classList.remove('active'));
            const target = document.getElementById(`lo-${loKey}`);
            if (target) target.classList.add('active');

            // Hide default message if visible
            if (defaultMessage) defaultMessage.style.display = 'none';

            // Render appropriate content
            if (loKey === 'references') {
                contentArea.innerHTML = renderAdditionalReferences();
            } else if (loKey === 'books') {
                contentArea.innerHTML = renderBooks();
            } else if (loKey === 'test-banks') {
                contentArea.innerHTML = renderTestBanks();
            } else if (learningObjectives[loKey]) {
                contentArea.innerHTML = renderLO(loKey, learningObjectives[loKey]);
            } else {
                contentArea.innerHTML = `<h2 class="text-red-400">Error: Learning Objective not found.</h2>`;
            }

            // Scroll to top
            document.getElementById('content-area').scrollTop = 0;
        }

        // Initialize everything when the DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            const loList = document.getElementById('lo-list');

            // Replace sidebar contents with Books and Test Banks
            loList.innerHTML = `
                <li>
                    <button id="lo-books" class="lo-item w-full text-left p-3 rounded-lg border-l-4 border-tech-dark-alt transition duration-200 hover:bg-tech-primary/10 hover:border-tech-primary font-medium text-sm sm:text-base" data-lo-key="books">Books</button>
                </li>
                <li>
                    <button id="lo-test-banks" class="lo-item w-full text-left p-3 rounded-lg border-l-4 border-tech-dark-alt transition duration-200 hover:bg-tech-primary/10 hover:border-tech-primary font-medium text-sm sm:text-base" data-lo-key="test-banks">Test Banks</button>
                </li>
            `;

            // Add click handler to sidebar
            loList.addEventListener('click', (event) => {
                const button = event.target.closest('.lo-item');
                if (button) {
                    const loKey = button.getAttribute('data-lo-key');
                    handleNavigationClick(loKey);
                }
            });

            // Initialize with Books view
            handleNavigationClick('books');

            // Theme toggle initialization (default to dark)
            const themeToggleBtn = document.getElementById('theme-toggle');
            const themeToggleIcon = document.getElementById('theme-toggle-icon');

            function setTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
                if (themeToggleIcon) {
                    if (theme === 'dark') {
                        themeToggleIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
                    } else {
                        themeToggleIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>';
                    }
                }
            }

            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                setTheme(savedTheme);
            } else {
                setTheme('dark');
            }

            if (themeToggleBtn) {
                themeToggleBtn.addEventListener('click', () => {
                    const current = document.documentElement.getAttribute('data-theme') || 'dark';
                    setTheme(current === 'dark' ? 'light' : 'dark');
                });
            }
        });
    </script>
</head>

<body class="bg-tech-bg text-tech-light min-h-screen flex flex-col">

    <!-- Header -->
    <header
        class="w-full bg-tech-dark-alt p-4 shadow-xl shadow-tech-primary/10 border-b border-tech-primary/30 sticky top-0 z-10">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <!-- Left: Back Button & Logo -->
            <div class="flex items-center space-x-4">
                <button onclick="window.location.href='../index.html'"
                    class="text-tech-light hover:text-tech-secondary transition duration-200 p-2 rounded-full hover:bg-tech-primary/20">
                    <!-- Back Arrow SVG Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 12H5" />
                        <path d="m12 19-7-7 7-7" />
                    </svg>
                </button>

                <!-- Logo: Single gradient-styled "Stemawy" -->
                <a href="../index.html"
                    class="flex items-center space-x-2 text-2xl font-extrabold transition duration-200 hover:opacity-80">
                    <span class="gradient-text-wrapper gradient-h1">Stemawy</span>
                </a>
            </div>

            <!-- Center: Title -->
            <h1 class="text-4xl font-extrabold tracking-tight">
                <span class="gradient-text-wrapper gradient-h1">DEUTSCH</span>
            </h1>

            <!-- Right: Theme toggle -->
            <div class="flex items-center">
                <button id="theme-toggle" class="p-2 rounded-md hover:bg-tech-primary/10 transition"
                    title="Toggle theme">
                    <svg id="theme-toggle-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex flex-1 overflow-hidden max-w-7xl mx-auto w-full p-4 sm:p-6">

        <!-- Left Sidebar (LO Navigation) -->
        <nav id="sidebar"
            class="w-full sm:w-64 bg-tech-dark-alt rounded-xl p-4 mr-6 flex-shrink-0 border border-tech-primary/20 h-full overflow-y-auto">
            <h2
                class="text-lg font-bold mb-4 text-tech-secondary uppercase tracking-wider border-b border-tech-secondary/30 pb-2">
                Learning Objectives</h2>
            <ul id="lo-list" class="space-y-2">
                <!-- LO items will be generated here -->
            </ul>
        </nav>

        <!-- Right Content Area -->
        <section id="content-area"
            class="flex-1 bg-tech-dark-alt rounded-xl p-6 border border-tech-primary/50 shadow-subtle-glow">
            <div id="dynamic-content" class="h-full">
                <!-- Default State -->
                <div id="default-message"
                    class="flex items-center justify-center h-full text-3xl font-light text-tech-light/50">
                    Bitte wähle dein Lernziel
                </div>
                <!-- Dynamic content will be rendered here -->
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="w-full bg-tech-dark-alt p-4 mt-auto border-t border-tech-primary/30">
        <div class="text-center text-sm text-tech-light/70">
            If you have any comments please text me <a href="mailto:yassoalaa822@gmail.com"
                class="text-tech-secondary hover:text-tech-primary transition duration-200">yassoalaa822@gmail.com</a>
        </div>
    </footer>
</body>

</html>